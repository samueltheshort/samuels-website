{"version":3,"file":"errors-BG4CMlQA.js","sources":["../../src/node/core/errors.ts","../../src/node/core/logger.ts","../../src/cli/errors.ts"],"sourcesContent":["const isError = (err: unknown): err is Error => err instanceof Error;\n\nexport { isError };\n","import chalk from 'chalk';\n\ninterface LoggerOptions {\n  silent?: boolean;\n  debug?: boolean;\n}\n\nexport interface Logger {\n  warnings: number;\n  errors: number;\n  debug: (...args: any[]) => void;\n  info: (...args: any[]) => void;\n  warn: (...args: any[]) => void;\n  error: (...args: any[]) => void;\n  log: (...args: any[]) => void;\n  success: (...args: any[]) => void;\n}\n\nexport const createLogger = (options: LoggerOptions = {}): Logger => {\n  const { silent = false, debug = false } = options;\n\n  const state = { errors: 0, warning: 0 };\n\n  return {\n    get warnings() {\n      return state.warning;\n    },\n\n    get errors() {\n      return state.errors;\n    },\n\n    debug(...args) {\n      if (silent || !debug) {\n        return;\n      }\n\n      console.debug(chalk.cyan('[DEBUG] '), ...args);\n    },\n\n    info(...args) {\n      if (silent) {\n        return;\n      }\n\n      console.info(chalk.blue('[INFO] '), ...args);\n    },\n\n    log(...args) {\n      if (silent) {\n        return;\n      }\n\n      console.log(...args);\n    },\n\n    warn(...args) {\n      state.warning += 1;\n\n      if (silent) {\n        return;\n      }\n\n      console.warn(chalk.yellow('[WARN] '), ...args);\n    },\n\n    error(...args) {\n      state.errors += 1;\n\n      if (silent) {\n        return;\n      }\n\n      console.error(chalk.red('[ERROR] '), ...args);\n    },\n\n    success(...args) {\n      if (silent) {\n        return;\n      }\n\n      console.info(chalk.green('[SUCCESS] '), ...args);\n    },\n  };\n};\n","import boxen from 'boxen';\nimport chalk from 'chalk';\nimport os from 'os';\n\nimport { isError } from '../node/core/errors';\n\nexport const handleError = (err: unknown) => {\n  console.error(\n    chalk.red(\n      '[ERROR] ',\n      'There seems to be an unexpected error, try again with --debug for more information',\n      os.EOL\n    )\n  );\n\n  if (isError(err) && err.stack) {\n    // eslint-disable-next-line no-console\n    console.log(\n      chalk.red(\n        boxen(err.stack, {\n          padding: 1,\n          align: 'left',\n        })\n      )\n    );\n  }\n\n  process.exit(1);\n};\n"],"names":["chalk","os","boxen"],"mappings":";;;;;;;;AAAM,MAAA,UAAU,CAAC,QAA+B,eAAe;ACkBxD,MAAM,eAAe,CAAC,UAAyB,OAAe;AACnE,QAAM,EAAE,SAAS,OAAO,QAAQ,UAAU;AAE1C,QAAM,QAAQ,EAAE,QAAQ,GAAG,SAAS,EAAE;AAE/B,SAAA;AAAA,IACL,IAAI,WAAW;AACb,aAAO,MAAM;AAAA,IACf;AAAA,IAEA,IAAI,SAAS;AACX,aAAO,MAAM;AAAA,IACf;AAAA,IAEA,SAAS,MAAM;AACT,UAAA,UAAU,CAAC,OAAO;AACpB;AAAA,MACF;AAEA,cAAQ,MAAMA,uBAAM,KAAK,UAAU,GAAG,GAAG,IAAI;AAAA,IAC/C;AAAA,IAEA,QAAQ,MAAM;AACZ,UAAI,QAAQ;AACV;AAAA,MACF;AAEA,cAAQ,KAAKA,uBAAM,KAAK,SAAS,GAAG,GAAG,IAAI;AAAA,IAC7C;AAAA,IAEA,OAAO,MAAM;AACX,UAAI,QAAQ;AACV;AAAA,MACF;AAEQ,cAAA,IAAI,GAAG,IAAI;AAAA,IACrB;AAAA,IAEA,QAAQ,MAAM;AACZ,YAAM,WAAW;AAEjB,UAAI,QAAQ;AACV;AAAA,MACF;AAEA,cAAQ,KAAKA,uBAAM,OAAO,SAAS,GAAG,GAAG,IAAI;AAAA,IAC/C;AAAA,IAEA,SAAS,MAAM;AACb,YAAM,UAAU;AAEhB,UAAI,QAAQ;AACV;AAAA,MACF;AAEA,cAAQ,MAAMA,uBAAM,IAAI,UAAU,GAAG,GAAG,IAAI;AAAA,IAC9C;AAAA,IAEA,WAAW,MAAM;AACf,UAAI,QAAQ;AACV;AAAA,MACF;AAEA,cAAQ,KAAKA,uBAAM,MAAM,YAAY,GAAG,GAAG,IAAI;AAAA,IACjD;AAAA,EAAA;AAEJ;AC9Ea,MAAA,cAAc,CAAC,QAAiB;AACnC,UAAA;AAAA,IACNA,eAAAA,QAAM;AAAA,MACJ;AAAA,MACA;AAAA,MACAC,YAAAA,QAAG;AAAA,IACL;AAAA,EAAA;AAGF,MAAI,QAAQ,GAAG,KAAK,IAAI,OAAO;AAErB,YAAA;AAAA,MACND,eAAAA,QAAM;AAAA,QACJE,eAAA,QAAM,IAAI,OAAO;AAAA,UACf,SAAS;AAAA,UACT,OAAO;AAAA,QAAA,CACR;AAAA,MACH;AAAA,IAAA;AAAA,EAEJ;AAEA,UAAQ,KAAK,CAAC;AAChB;;;;"}