{"version":3,"file":"convert-custom-field-type.js","sources":["../../src/utils/convert-custom-field-type.ts"],"sourcesContent":["import type { Core } from '@strapi/types';\n\ntype InputAttributes = {\n  [key: string]: {\n    type: string;\n    customField?: string;\n  };\n};\n\nexport const convertCustomFieldType = (strapi: Core.Strapi) => {\n  const allContentTypeSchemaAttributes = Object.values(strapi.contentTypes).map(\n    (schema) => schema.attributes\n  );\n\n  const allComponentSchemaAttributes = Object.values(strapi.components).map(\n    (schema) => schema.attributes\n  );\n  const allSchemasAttributes: InputAttributes[] = [\n    ...allContentTypeSchemaAttributes,\n    ...allComponentSchemaAttributes,\n  ];\n\n  for (const schemaAttrbutes of allSchemasAttributes) {\n    for (const attribute of Object.values(schemaAttrbutes)) {\n      if (attribute.type === 'customField') {\n        const customField = strapi.get('custom-fields').get(attribute.customField);\n        attribute.type = customField.type;\n      }\n    }\n  }\n};\n"],"names":[],"mappings":";;AASa,MAAA,yBAAyB,CAAC,WAAwB;AAC7D,QAAM,iCAAiC,OAAO,OAAO,OAAO,YAAY,EAAE;AAAA,IACxE,CAAC,WAAW,OAAO;AAAA,EACrB;AAEA,QAAM,+BAA+B,OAAO,OAAO,OAAO,UAAU,EAAE;AAAA,IACpE,CAAC,WAAW,OAAO;AAAA,EACrB;AACA,QAAM,uBAA0C;AAAA,IAC9C,GAAG;AAAA,IACH,GAAG;AAAA,EACL;AAEA,aAAW,mBAAmB,sBAAsB;AAClD,eAAW,aAAa,OAAO,OAAO,eAAe,GAAG;AAClD,UAAA,UAAU,SAAS,eAAe;AACpC,cAAM,cAAc,OAAO,IAAI,eAAe,EAAE,IAAI,UAAU,WAAW;AACzE,kBAAU,OAAO,YAAY;AAAA,MAAA;AAAA,IAC/B;AAAA,EACF;AAEJ;;"}