{"version":3,"file":"features.mjs","sources":["../../src/services/features.ts"],"sourcesContent":["/**\n * The features service is responsible for managing features within strapi,\n * including interacting with the feature configuration file to know\n * which are enabled and disabled.\n */\n\nimport type { Core, Modules } from '@strapi/types';\n\ntype FeatureName = keyof Modules.Features.FeaturesConfig['future'];\n\nconst createFeaturesService = (strapi: Core.Strapi): Modules.Features.FeaturesService => {\n  const service: Modules.Features.FeaturesService = {\n    get config() {\n      return strapi.config.get<Modules.Features.FeaturesService['config']>('features');\n    },\n    future: {\n      isEnabled(futureFlagName: string): boolean {\n        return service.config?.future?.[futureFlagName as FeatureName] === true;\n      },\n    },\n  };\n\n  return service;\n};\n\nexport { createFeaturesService };\nexport type FeaturesService = Modules.Features.FeaturesService;\n"],"names":[],"mappings":"AAUM,MAAA,wBAAwB,CAAC,WAA0D;AACvF,QAAM,UAA4C;AAAA,IAChD,IAAI,SAAS;AACJ,aAAA,OAAO,OAAO,IAAgD,UAAU;AAAA,IACjF;AAAA,IACA,QAAQ;AAAA,MACN,UAAU,gBAAiC;AACzC,eAAO,QAAQ,QAAQ,SAAS,cAA6B,MAAM;AAAA,MAAA;AAAA,IACrE;AAAA,EAEJ;AAEO,SAAA;AACT;"}