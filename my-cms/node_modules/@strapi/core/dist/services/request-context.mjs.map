{"version":3,"file":"request-context.mjs","sources":["../../src/services/request-context.ts"],"sourcesContent":["import { AsyncLocalStorage } from 'async_hooks';\nimport type { ParameterizedContext } from 'koa';\n\nconst storage = new AsyncLocalStorage<ParameterizedContext>();\n\nconst requestCtx = {\n  async run(store: ParameterizedContext, cb: () => Promise<void>) {\n    return storage.run(store, cb);\n  },\n\n  get() {\n    return storage.getStore();\n  },\n};\n\nexport default requestCtx;\n"],"names":[],"mappings":";AAGA,MAAM,UAAU,IAAI,kBAAwC;AAE5D,MAAM,aAAa;AAAA,EACjB,MAAM,IAAI,OAA6B,IAAyB;AACvD,WAAA,QAAQ,IAAI,OAAO,EAAE;AAAA,EAC9B;AAAA,EAEA,MAAM;AACJ,WAAO,QAAQ,SAAS;AAAA,EAAA;AAE5B;"}