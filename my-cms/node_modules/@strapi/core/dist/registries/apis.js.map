{"version":3,"file":"apis.js","sources":["../../src/registries/apis.ts"],"sourcesContent":["import { has } from 'lodash/fp';\nimport type { Core } from '@strapi/types';\n\nconst apisRegistry = (strapi: Core.Strapi) => {\n  const apis: Record<string, unknown> = {};\n\n  return {\n    get(name: string) {\n      return apis[name];\n    },\n    getAll() {\n      return apis;\n    },\n    add(apiName: string, apiConfig: unknown) {\n      if (has(apiName, apis)) {\n        throw new Error(`API ${apiName} has already been registered.`);\n      }\n\n      const api = strapi.get('modules').add(`api::${apiName}`, apiConfig);\n\n      apis[apiName] = api;\n\n      return apis[apiName];\n    },\n  };\n};\n\nexport default apisRegistry;\n"],"names":["has"],"mappings":";;AAGM,MAAA,eAAe,CAAC,WAAwB;AAC5C,QAAM,OAAgC,CAAC;AAEhC,SAAA;AAAA,IACL,IAAI,MAAc;AAChB,aAAO,KAAK,IAAI;AAAA,IAClB;AAAA,IACA,SAAS;AACA,aAAA;AAAA,IACT;AAAA,IACA,IAAI,SAAiB,WAAoB;AACnC,UAAAA,GAAA,IAAI,SAAS,IAAI,GAAG;AACtB,cAAM,IAAI,MAAM,OAAO,OAAO,+BAA+B;AAAA,MAAA;AAGzD,YAAA,MAAM,OAAO,IAAI,SAAS,EAAE,IAAI,QAAQ,OAAO,IAAI,SAAS;AAElE,WAAK,OAAO,IAAI;AAEhB,aAAO,KAAK,OAAO;AAAA,IAAA;AAAA,EAEvB;AACF;;"}