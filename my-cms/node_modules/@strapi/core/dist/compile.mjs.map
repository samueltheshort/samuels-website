{"version":3,"file":"compile.mjs","sources":["../src/compile.ts"],"sourcesContent":["import tsUtils from '@strapi/typescript-utils';\n\ninterface Options {\n  appDir?: string;\n  ignoreDiagnostics?: boolean;\n}\n\nexport default async function compile(options?: Options) {\n  const { appDir = process.cwd(), ignoreDiagnostics = false } = options ?? {};\n  const isTSProject = await tsUtils.isUsingTypeScript(appDir);\n  const outDir = await tsUtils.resolveOutDir(appDir);\n\n  if (isTSProject) {\n    await tsUtils.compile(appDir, {\n      configOptions: { options: { incremental: true }, ignoreDiagnostics },\n    });\n  }\n\n  const distDir = isTSProject ? outDir : appDir;\n\n  return { appDir, distDir };\n}\n"],"names":[],"mappings":";AAOA,eAA8B,QAAQ,SAAmB;AACjD,QAAA,EAAE,SAAS,QAAQ,IAAA,GAAO,oBAAoB,MAAA,IAAU,WAAW,CAAC;AAC1E,QAAM,cAAc,MAAM,QAAQ,kBAAkB,MAAM;AAC1D,QAAM,SAAS,MAAM,QAAQ,cAAc,MAAM;AAEjD,MAAI,aAAa;AACT,UAAA,QAAQ,QAAQ,QAAQ;AAAA,MAC5B,eAAe,EAAE,SAAS,EAAE,aAAa,QAAQ,kBAAkB;AAAA,IAAA,CACpE;AAAA,EAAA;AAGG,QAAA,UAAU,cAAc,SAAS;AAEhC,SAAA,EAAE,QAAQ,QAAQ;AAC3B;"}