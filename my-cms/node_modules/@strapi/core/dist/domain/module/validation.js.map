{"version":3,"file":"validation.js","sources":["../../../src/domain/module/validation.ts"],"sourcesContent":["import { yup } from '@strapi/utils';\n\nconst strapiServerSchema = yup\n  .object()\n  .shape({\n    bootstrap: yup.mixed().isFunction(),\n    destroy: yup.mixed().isFunction(),\n    register: yup.mixed().isFunction(),\n    config: yup.object(),\n    routes: yup.lazy((value) => {\n      if (Array.isArray(value)) {\n        return yup.array();\n      }\n      return yup.object();\n    }),\n    controllers: yup.object(),\n    services: yup.object(),\n    policies: yup.object(),\n    middlewares: yup.object(),\n    contentTypes: yup.object(),\n  })\n  .noUnknown();\n\nconst validateModule = (data: unknown) => {\n  return strapiServerSchema.validateSync(data, { strict: true, abortEarly: false });\n};\n\nexport { validateModule };\n"],"names":["yup"],"mappings":";;;AAEA,MAAM,qBAAqBA,YAAA,IACxB,OAAO,EACP,MAAM;AAAA,EACL,WAAWA,YAAA,IAAI,MAAM,EAAE,WAAW;AAAA,EAClC,SAASA,YAAA,IAAI,MAAM,EAAE,WAAW;AAAA,EAChC,UAAUA,YAAA,IAAI,MAAM,EAAE,WAAW;AAAA,EACjC,QAAQA,gBAAI,OAAO;AAAA,EACnB,QAAQA,YAAA,IAAI,KAAK,CAAC,UAAU;AACtB,QAAA,MAAM,QAAQ,KAAK,GAAG;AACxB,aAAOA,YAAAA,IAAI,MAAM;AAAA,IAAA;AAEnB,WAAOA,YAAAA,IAAI,OAAO;AAAA,EAAA,CACnB;AAAA,EACD,aAAaA,gBAAI,OAAO;AAAA,EACxB,UAAUA,gBAAI,OAAO;AAAA,EACrB,UAAUA,gBAAI,OAAO;AAAA,EACrB,aAAaA,gBAAI,OAAO;AAAA,EACxB,cAAcA,gBAAI,OAAO;AAC3B,CAAC,EACA,UAAU;AAEP,MAAA,iBAAiB,CAAC,SAAkB;AACjC,SAAA,mBAAmB,aAAa,MAAM,EAAE,QAAQ,MAAM,YAAY,OAAO;AAClF;;"}