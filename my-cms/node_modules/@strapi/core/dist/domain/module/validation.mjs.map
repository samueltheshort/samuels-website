{"version":3,"file":"validation.mjs","sources":["../../../src/domain/module/validation.ts"],"sourcesContent":["import { yup } from '@strapi/utils';\n\nconst strapiServerSchema = yup\n  .object()\n  .shape({\n    bootstrap: yup.mixed().isFunction(),\n    destroy: yup.mixed().isFunction(),\n    register: yup.mixed().isFunction(),\n    config: yup.object(),\n    routes: yup.lazy((value) => {\n      if (Array.isArray(value)) {\n        return yup.array();\n      }\n      return yup.object();\n    }),\n    controllers: yup.object(),\n    services: yup.object(),\n    policies: yup.object(),\n    middlewares: yup.object(),\n    contentTypes: yup.object(),\n  })\n  .noUnknown();\n\nconst validateModule = (data: unknown) => {\n  return strapiServerSchema.validateSync(data, { strict: true, abortEarly: false });\n};\n\nexport { validateModule };\n"],"names":[],"mappings":";AAEA,MAAM,qBAAqB,IACxB,OAAO,EACP,MAAM;AAAA,EACL,WAAW,IAAI,MAAM,EAAE,WAAW;AAAA,EAClC,SAAS,IAAI,MAAM,EAAE,WAAW;AAAA,EAChC,UAAU,IAAI,MAAM,EAAE,WAAW;AAAA,EACjC,QAAQ,IAAI,OAAO;AAAA,EACnB,QAAQ,IAAI,KAAK,CAAC,UAAU;AACtB,QAAA,MAAM,QAAQ,KAAK,GAAG;AACxB,aAAO,IAAI,MAAM;AAAA,IAAA;AAEnB,WAAO,IAAI,OAAO;AAAA,EAAA,CACnB;AAAA,EACD,aAAa,IAAI,OAAO;AAAA,EACxB,UAAU,IAAI,OAAO;AAAA,EACrB,UAAU,IAAI,OAAO;AAAA,EACrB,aAAa,IAAI,OAAO;AAAA,EACxB,cAAc,IAAI,OAAO;AAC3B,CAAC,EACA,UAAU;AAEP,MAAA,iBAAiB,CAAC,SAAkB;AACjC,SAAA,mBAAmB,aAAa,MAAM,EAAE,QAAQ,MAAM,YAAY,OAAO;AAClF;"}