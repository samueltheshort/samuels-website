{"version":3,"file":"develop.mjs","sources":["../../../src/cli/commands/develop.ts"],"sourcesContent":["import { createCommand } from 'commander';\nimport cluster from 'node:cluster';\nimport type { StrapiCommand } from '../types';\nimport { develop as nodeDevelop, DevelopOptions } from '../../node/develop';\nimport { handleUnexpectedError } from '../../node/core/errors';\n\ntype DevelopCLIOptions = DevelopOptions;\n\nconst action = async (options: DevelopCLIOptions) => {\n  try {\n    if (cluster.isPrimary) {\n      if (options.bundler === 'webpack') {\n        options.logger.warn(\n          '[@strapi/strapi]: Using webpack as a bundler is deprecated. You should migrate to vite.'\n        );\n      }\n    }\n\n    await nodeDevelop(options);\n  } catch (err) {\n    handleUnexpectedError(err);\n  }\n};\n\n/**\n * `$ strapi develop`\n */\nconst command: StrapiCommand = ({ ctx }) => {\n  return createCommand('develop')\n    .alias('dev')\n    .option('--bundler [bundler]', 'Bundler to use (webpack or vite)', 'vite')\n    .option('-d, --debug', 'Enable debugging mode with verbose logs', false)\n    .option('--silent', \"Don't log anything\", false)\n    .option('--polling', 'Watch for file changes in network directories', false)\n    .option('--watch-admin', 'Watch the admin panel for hot changes', true)\n    .option('--no-watch-admin', 'Do not watch the admin panel for hot changes')\n    .option('--open', 'Open the admin in your browser', true)\n    .description('Start your Strapi application in development mode')\n    .action(async (options: DevelopCLIOptions) => {\n      return action({ ...options, ...ctx });\n    });\n};\n\nexport { command };\n"],"names":["nodeDevelop"],"mappings":";;;;AAQA,MAAM,SAAS,OAAO,YAA+B;AAC/C,MAAA;AACF,QAAI,QAAQ,WAAW;AACjB,UAAA,QAAQ,YAAY,WAAW;AACjC,gBAAQ,OAAO;AAAA,UACb;AAAA,QACF;AAAA,MAAA;AAAA,IACF;AAGF,UAAMA,QAAY,OAAO;AAAA,WAClB,KAAK;AACZ,0BAAsB,GAAG;AAAA,EAAA;AAE7B;AAKA,MAAM,UAAyB,CAAC,EAAE,UAAU;AACnC,SAAA,cAAc,SAAS,EAC3B,MAAM,KAAK,EACX,OAAO,uBAAuB,oCAAoC,MAAM,EACxE,OAAO,eAAe,2CAA2C,KAAK,EACtE,OAAO,YAAY,sBAAsB,KAAK,EAC9C,OAAO,aAAa,iDAAiD,KAAK,EAC1E,OAAO,iBAAiB,yCAAyC,IAAI,EACrE,OAAO,oBAAoB,8CAA8C,EACzE,OAAO,UAAU,kCAAkC,IAAI,EACvD,YAAY,mDAAmD,EAC/D,OAAO,OAAO,YAA+B;AAC5C,WAAO,OAAO,EAAE,GAAG,SAAS,GAAG,KAAK;AAAA,EAAA,CACrC;AACL;"}