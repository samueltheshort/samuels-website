{"version":3,"file":"build.js","sources":["../../../src/node/vite/build.ts"],"sourcesContent":["import { mergeConfigWithUserConfig, resolveProductionConfig } from './config';\n\nimport type { BuildContext } from '../create-build-context';\n\nconst build = async (ctx: BuildContext) => {\n  const config = await resolveProductionConfig(ctx);\n  const finalConfig = await mergeConfigWithUserConfig(config, ctx);\n\n  const { build: viteBuild } = await import('vite');\n\n  ctx.logger.debug('Vite config', finalConfig);\n\n  await viteBuild(finalConfig);\n};\n\nexport { build };\n"],"names":["config","resolveProductionConfig","mergeConfigWithUserConfig"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAIM,MAAA,QAAQ,OAAO,QAAsB;AACnC,QAAAA,WAAS,MAAMC,OAAA,wBAAwB,GAAG;AAChD,QAAM,cAAc,MAAMC,iCAA0BF,UAAQ,GAAG;AAE/D,QAAM,EAAE,OAAO,cAAc,MAAM,OAAO,MAAM;AAE5C,MAAA,OAAO,MAAM,eAAe,WAAW;AAE3C,QAAM,UAAU,WAAW;AAC7B;;"}